import{u as l,k as C,c as g,a2 as A,d as f,q as P,v as p,b as y,C as x,N as h,x as R,B as v,a3 as E,S as b,F as c,a4 as r,I as u,a5 as $,A as D,H as I,a6 as k,a7 as O,a8 as T,a9 as B,aa as L,ab as N,ac as F,ad as S,ae as j,af as V,ag as z,ah as H}from"./chunks/framework.4014a90b.js";import{t as _}from"./chunks/theme.eef85c17.js";const M={class:"comments"},q=l({__name:"comment",setup(t){const e=C(),{title:n}=g(),a=A({repo:"GlobeMC/crashmc.com",repoId:"R_kgDOKBR8xw",category:"Announcements",categoryId:"DIC_kwDOKBR8x84CYOmB",mapping:"title",strict:"0",reactionsEnabled:"1",emitMetadata:"0",inputPosition:"top",theme:"preferred_color_scheme",lang:"zh-CN",loading:"lazy"}),s=f(!0);return P(()=>e.path,()=>{s.value=!1,setTimeout(()=>{s.value=!0},200)},{immediate:!0}),(i,d)=>(p(),y("div",M,[s.value?(p(),x(R("script"),{src:"https://giscus.app/client.js",key:h(n),"data-repo":a.repo,"data-repo-id":a.repoId,"data-category":a.category,"data-category-id":a.categoryId,"data-mapping":a.mapping,"data-strict":a.strict,"data-reactions-enabled":a.reactionsEnabled,"data-emit-metadata":a.emitMetadata,"data-input-position":a.inputPosition,"data-lang":a.lang,"data-theme":a.theme,"data-loading":a.loading},null,8,["data-repo","data-repo-id","data-category","data-category-id","data-mapping","data-strict","data-reactions-enabled","data-emit-metadata","data-input-position","data-lang","data-theme","data-loading"])):v("",!0)]))}});const G={key:0,class:"pwa-toast z-100 bg-$vp-c-bg border border-$pwa-divider fixed right-0 bottom-0 m-6 px-6 py-4 rounded shadow-xl",role:"alertdialog","aria-labelledby":"pwa-message"},K=c("div",{id:"pwa-message",class:"mb-3"}," 发现新内容可用，点击“刷新”按钮来更新文档 ",-1),W=l({__name:"ReloadPrompt",setup(t){const e=f(!1);let n;function a(){e.value=!0}async function s(){e.value=!1}return E(async()=>{const{registerSW:i}=await b(()=>import("./chunks/virtual_pwa-register.d41828fd.js"),["assets/chunks/virtual_pwa-register.d41828fd.js","assets/chunks/framework.4014a90b.js"]);n=i({immediate:!0,onNeedRefresh:a})}),(i,d)=>e.value?(p(),y("div",G,[K,c("button",{type:"button",class:"pwa-refresh mr-2 px-3 py-1 rounded",onClick:d[0]||(d[0]=Z=>{var m;return(m=h(n))==null?void 0:m()})}," 刷新 "),c("button",{type:"button",class:"pwa-cancel border border-$pwa-divider mr-2 px-3 py-1 rounded",onClick:s}," 取消 ")])):v("",!0)}});const U={..._,Layout:()=>r(_.Layout,null,{"doc-after":()=>r(q),"layout-bottom":()=>r(W)})};function w(t){if(t.extends){const e=w(t.extends);return{...e,...t,async enhanceApp(n){e.enhanceApp&&await e.enhanceApp(n),t.enhanceApp&&await t.enhanceApp(n)}}}return t}const o=w(U),Y=l({name:"VitePressApp",setup(){const{site:t}=g();return D(()=>{I(()=>{document.documentElement.lang=t.value.lang,document.documentElement.dir=t.value.dir})}),k(),O(),T(),o.setup&&o.setup(),()=>r(o.Layout)}});async function J(){const t=X(),e=Q();e.provide(B,t);const n=L(t.route);return e.provide(N,n),e.component("Content",F),e.component("ClientOnly",S),Object.defineProperties(e.config.globalProperties,{$frontmatter:{get(){return n.frontmatter.value}},$params:{get(){return n.page.value.params}}}),o.enhanceApp&&await o.enhanceApp({app:e,router:t,siteData:j}),{app:e,router:t,data:n}}function Q(){return V(Y)}function X(){let t=u,e;return z(n=>{let a=H(n);return a?(t&&(e=a),(t||e===a)&&(a=a.replace(/\.js$/,".lean.js")),u&&(t=!1),b(()=>import(a),[])):null},o.NotFound)}u&&J().then(({app:t,router:e,data:n})=>{e.go().then(()=>{$(e.route,n.site),t.mount("#app")})});export{J as createApp};
